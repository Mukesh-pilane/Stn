from google.oauth2 import id_token
from google.auth.transport import requests


def verify_token(token):
        
    CLIENT_ID = "1044924794976-n418rqsvep3iiaiecfsqlkf1jf5895is.apps.googleusercontent.com"
    # token = 'eyJhbGciOiJSUzI1NiIsImtpZCI6ImFmYzRmYmE2NTk5ZmY1ZjYzYjcyZGM1MjI0MjgyNzg2ODJmM2E3ZjEiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiMTA0NDkyNDc5NDk3Ni1uNDE4cnFzdmVwM2lpYWllY2ZzcWxrZjFqZjU4OTVpcy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsImF1ZCI6IjEwNDQ5MjQ3OTQ5NzYtbjQxOHJxc3ZlcDNpaWFpZWNmc3Fsa2YxamY1ODk1aXMuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDU0NDk2OTcwODE1NTYwNTM0MTciLCJlbWFpbCI6Im11a2VzaHBpbGFuZUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiYXRfaGFzaCI6InJrNHRua001WnNWalFaZThRN2ZQLXciLCJuYW1lIjoibXVrZXNoIHBpbGFuZSIsInBpY3R1cmUiOiJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vYS9BRWRGVHA2NVF3a24xdzZ5c3hGWmI0Z19XZWRyc001Ml9KeHlucjFiaHh3aj1zOTYtYyIsImdpdmVuX25hbWUiOiJtdWtlc2giLCJmYW1pbHlfbmFtZSI6InBpbGFuZSIsImxvY2FsZSI6ImVuIiwiaWF0IjoxNjc0OTUzODc0LCJleHAiOjE2NzQ5NTc0NzQsImp0aSI6ImY3YzE2N2FkNTk5OWQ3OWYwMTlkOTRiYzU3NDQ3YWZkNDE4YWQxMDAifQ.X_TzJFcP709s9xSTb1sPdMr5HaponG6RRp5TfMdIq_hq64asWy8wEJkL5pEzFSf1UGGMlHTOmDpmFPmFlrJlBZS35tRbpxYdf8foLxAup9ekwOiX72dD0InDgE6HYjKKEqo5EKbXKIQtpsklzg3ximc7Y-xvT8AIOsLT9_aWvOJ2i57kOEKVucXBZLsYgZyleWwoKHQDr84-fCNLbN5C099wXvHk7xuPNfBcP38mDZBbAU7247TzvHJJQmSoZDZ0wDkfsh9RdjBdFBWxO5f6v4FNMyIG3ROavDN0-Cjt8nGeUGY-gsxrnAG-6WyJY_Y_o6ZTtkrWf6INJNNtk_GZzA'
    try:
        idinfo = id_token.verify_oauth2_token(token, requests.Request(), CLIENT_ID)

        return idinfo
    except ValueError:
        return "invalid"
        pass